import{j as e,B as M,G as i,T as r,r as t,u as O,a as X,b as j,c as $,s as J,I as Q,d as Y,e as Z,S as ee,A as ae,f as ie,g as u,F as re,l as te,p as ne,w as se,n as oe}from"./index-c9817d7a.js";const le=(f,o)=>({instructivoGestSii:n=>e.jsx(M,{sx:{width:"500px",borderTopLeftRadius:"30px"},role:"presentation",onClick:o(n,!1),onKeyDown:o(n,!1),className:"help",children:e.jsxs(i,{container:!0,spacing:0,direction:"row",justifyContent:"center",alignItems:"center",alignContent:"center",mt:3,children:[e.jsxs(i,{item:!0,m:1,ml:3,m3:3,children:[e.jsx(r,{variant:"h4",color:"primary",mb:1,children:"Descripción del proceso."}),e.jsx(r,{variant:"caption",color:"primary",children:"El robot se encarga de la verificación de los documentos electrónicos y su cesión a un tercero bajo la modalidad de Factoring para así asegurar el pago al tenedor del documento. El proceso comienza inciando sesión en la plataforma del servicio de impuestos internos y revisando el excel entregado por el usuario. Por cada fila irá iterando y realizando los siguientes pasos:"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:'Solo hará el proceso si la fila contiene el valor "FAE" o "FEEX".'})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Consulta validez del documento."})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Consulta documentos autorizados."})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Consulta al registro público electrónico de transferencia de créditos (RPETC)"})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Finalmente por cada fila creará un documento en pdf que tendrá pantallazos de las consultas realizadas y se enviará por correo electrónico en formato .zip ."})})]})]}),e.jsxs(i,{item:!0,m:1,ml:3,m3:3,children:[e.jsx(r,{variant:"h4",color:"primary",mb:1,children:"Instrucciones de ejecución."}),e.jsx(r,{variant:"caption",color:"primary",children:"Este robot funciona trabajando directamente en la plataforma del servicio de impuestos internos ingresando con el usuario y contraseña de la clave única. Para asegurar su funcionamiento es necesario seguir los siguientes pasos:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(r,{variant:"caption",color:"primary",children:"Revisar las credenciales de acceso a la plataforma del servicio de impuestos internos con su clave única:"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:e.jsx("a",{href:"https://zeusr.sii.cl/",children:"https://zeusr.sii.cl/"})})})})]}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Realizar la conexión vía escritorio remoto con el equipo que se configuró para la ejecución de los procesos de robotización."})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Probar la conexión desde la página web hacia el escritorio remoto."})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Comprobar que filas de archivo excel corresponden con las señaladas en la plantilla."})}),e.jsx("li",{children:e.jsx(r,{variant:"caption",color:"primary",children:"Completar el formulario e iniciar el robot."})})]})]})]})})}),de=()=>{const f=se(oe),[o,g]=t.useState({top:!1,left:!1,bottom:!1,right:!1}),n=(a,x)=>d=>{d&&d.type==="keydown"&&(d.key==="Tab"||d.key==="Shift")||g({...o,[a]:x})},{instructivoGestSii:I}=le(o,n),v=O(),{id_robot:b}=X(),[{nombre_robot:z,id_listarobot:F}]=j(a=>a.rpa.robotsTribunal.filter(x=>x.id_robot==b)),{id_tribunal:A,ip:V}=j(a=>a.auth.tribunal),{enEjecucion:D}=j(a=>a.app),[c,G]=t.useState(!1),[l,N]=t.useState(!1),[y,_]=t.useState(null),[R,C]=t.useState(""),[m,p]=t.useState(!1),[q,S]=t.useState("El archivo debe ser formato Excel (.xls o .xlsx)"),k=a=>{_(a.target.files[0]),a.target.value.split(".").pop()==="xls"||a.target.value.split(".").pop()==="xlsx"&&a.target.value.length!==0?(C(a.target.value),p(!1),S("")):(p(!0),S("El archivo debe ser formato Excel (.xls o .xlsx)"),C(""),_(null))},P={email:"",user_sii:"",pass_sii:"",devoluciones:""},B={email:[[a=>a.includes("@"),"El correo debe tener una @."]],user_sii:[[a=>a.length>=3,"Usuario Clave única debe tener más de 3 letras."]],pass_sii:[[a=>a.length>=3,"Contraseña Clave única debe tener más de 3 letras."]]},{email:W,emailValid:w,user_sii:U,user_siiValid:E,pass_sii:H,pass_siiValid:T,isFormValid:K,onInputChange:h,formState:s}=$(P,B),L=a=>{if(a.preventDefault(),G(!0),!K||!m||y===null){p(!0);return}if(D.ejecutando){f.fire("¡Error!","Actualmente se está ejecutando otro proceso, espera a que este termine para intentarlo nuevamente. En la parte superior de la página puedes comprobar que proceso está siendo ejecutado.","warning");return}N(!0),s.id_robot=b,s.nombre_robot=z,s.ip=V,s.id_tribunal=A,s.archivo=y,s.id_listarobot=F,v(ne({...s}))};return t.useEffect(()=>{v(J("Gestión de SII"))},[]),e.jsxs(i,{container:!0,spacing:0,direction:"row",children:[e.jsx(i,{item:!0,className:"animate__animated animate__fadeIn",children:e.jsx(i,{container:!0,spacing:0,justifyContent:"right",children:e.jsxs(i,{item:!0,children:[e.jsx(Q,{onClick:n("right",!0),"aria-label":"Ayuda",size:"large",sx:{color:"primary.main",position:"fixed",right:50,outline:"0px"},style:{outline:0},children:e.jsx(Y,{title:"Instrucciones",arrow:!0,children:e.jsx(Z,{sx:{fontSize:30}})})}),e.jsx(ee,{anchor:"right",open:o.right,onClose:n("right",!1),onOpen:n("right",!0),className:"drawerhelp",children:I("right")})]})})}),e.jsx(i,{container:!0,spacing:1,direction:"row",justifyContent:"center",alignItems:"center",alignContent:"center",wrap:"wrap",children:e.jsxs(i,{item:!0,lg:6,children:[e.jsx(i,{container:!0,spacing:3,direction:"row",justifyContent:"center",alignItems:"center",className:"animate__animated animate__fadeIn",children:e.jsx(i,{item:!0,children:e.jsx(ae,{sizes:"normal",sx:{width:56,height:56,bgcolor:"#4a6d88"},children:e.jsx(ie,{})})})}),e.jsx(i,{container:!0,spacing:1,direction:"column",justifyContent:"center",alignItems:"center",className:"animate__animated animate__fadeIn",children:e.jsx(i,{item:!0,mt:1,children:e.jsx(r,{variant:"h5",color:"primary",children:"Configurar Robot"})})}),e.jsx(i,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",className:"animate__animated animate__fadeIn",children:e.jsx(i,{item:!0,xs:3,sx:{padding:0,borderRadius:3,width:{sm:450}},children:e.jsx("form",{onSubmit:L,encType:"multipart/form-data",children:e.jsxs(i,{container:!0,spacing:0,children:[e.jsx(i,{item:!0,xs:12,sx:{marginTop:2},children:e.jsx(u,{label:"Email",type:"email",placeholder:"Email",fullWidth:!0,name:"email",variant:"outlined",value:W,onChange:h,error:!!w&&c,helperText:w,disabled:l})}),e.jsx(i,{item:!0,xs:12,sx:{marginTop:2},children:e.jsx(u,{label:"Usuario Clave única",type:"text",placeholder:"Usuario Clave única",fullWidth:!0,name:"user_sii",variant:"outlined",value:U,onChange:h,error:!!E&&c,helperText:E,disabled:l})}),e.jsx(i,{item:!0,xs:12,sx:{marginTop:2},children:e.jsx(u,{label:"Contraseña Clave única",type:"password",placeholder:"Contraseña Clave única",fullWidth:!0,name:"pass_sii",variant:"outlined",value:H,onChange:h,error:!!T&&c,helperText:T,disabled:l})}),e.jsxs(i,{item:!0,xs:12,sx:{marginTop:2},children:[e.jsx(u,{type:"file",fullWidth:!0,name:"devoluciones",variant:"outlined",value:R,onChange:a=>k(a),error:!!m&&c,disabled:l}),e.jsx(re,{error:m,sx:{ml:2},children:q})]}),e.jsx(i,{item:!0,xs:12,sx:{marginTop:2},children:e.jsx(i,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",children:e.jsx(i,{item:!0,children:e.jsx(te,{variant:"contained",type:"submit",style:{outline:"none"},disabled:l,children:"Ejecutar"})})})})]})})})})]})})]})};export{de as default};
